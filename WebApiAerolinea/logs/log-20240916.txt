2024-09-16 02:20:46.419 -05:00 [INF] Now listening on: https://localhost:7248
2024-09-16 02:20:46.474 -05:00 [INF] Now listening on: http://localhost:5024
2024-09-16 02:20:46.548 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 02:20:46.550 -05:00 [INF] Hosting environment: Development
2024-09-16 02:20:46.552 -05:00 [INF] Content root path: C:\Users\Didie\Desktop\.NetTraining\WebApiAerolinea\WebApiAerolinea
2024-09-16 02:20:48.193 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/swagger/index.html - -
2024-09-16 02:20:49.049 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/swagger/index.html - - - 200 - text/html;charset=utf-8 861.6461ms
2024-09-16 02:20:49.133 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/_framework/aspnetcore-browser-refresh.js - -
2024-09-16 02:20:49.143 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 9.9100ms
2024-09-16 02:20:49.227 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/_vs/browserLink - -
2024-09-16 02:20:49.326 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 99.5042ms
2024-09-16 02:20:50.303 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/swagger/v1/swagger.json - -
2024-09-16 02:20:50.545 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 242.2991ms
2024-09-16 02:21:06.298 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/api/v1/Flights - -
2024-09-16 02:21:06.309 -05:00 [INF] CORS policy execution successful.
2024-09-16 02:21:06.316 -05:00 [INF] Executing endpoint 'WebApiAerolinea.Controllers.FlightsController.GetAllFlights (WebApiAerolinea)'
2024-09-16 02:21:06.365 -05:00 [INF] Route matched with {action = "GetAllFlights", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DAL.Entities.Flight]]] GetAllFlights() on controller WebApiAerolinea.Controllers.FlightsController (WebApiAerolinea).
2024-09-16 02:21:08.365 -05:00 [INF] Executed DbCommand (46ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [f].[Id], [f].[Airline], [f].[ArrivalTime], [f].[AvailableSeats], [f].[DepartureTime], [f].[Destination], [f].[FlightNumber], [f].[Origin], [f].[Price], [f].[TotalSeats]
FROM [Flights] AS [f]
2024-09-16 02:21:08.527 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DAL.Entities.Flight, DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 02:21:08.553 -05:00 [INF] Executed action WebApiAerolinea.Controllers.FlightsController.GetAllFlights (WebApiAerolinea) in 2177.5018ms
2024-09-16 02:21:08.557 -05:00 [INF] Executed endpoint 'WebApiAerolinea.Controllers.FlightsController.GetAllFlights (WebApiAerolinea)'
2024-09-16 02:21:08.571 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/api/v1/Flights - - - 200 - application/json;+charset=utf-8 2271.8480ms
2024-09-16 02:21:11.224 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/api/v1/Seats/by-flight-id/23 - -
2024-09-16 02:21:11.232 -05:00 [INF] CORS policy execution successful.
2024-09-16 02:21:11.236 -05:00 [INF] Executing endpoint 'WebApiAerolinea.Controllers.SeatsController.GetSeatByEmailFragment (WebApiAerolinea)'
2024-09-16 02:21:11.259 -05:00 [INF] Route matched with {action = "GetSeatByEmailFragment", controller = "Seats"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DAL.Entities.Seat]]] GetSeatByEmailFragment(Int32) on controller WebApiAerolinea.Controllers.SeatsController (WebApiAerolinea).
2024-09-16 02:21:11.624 -05:00 [INF] Executed DbCommand (31ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FlightId], [s].[IsAvailable], [s].[ReservationId], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[FlightId] = @__flightId_0
2024-09-16 02:21:11.655 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DAL.Entities.Seat, DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 02:21:11.663 -05:00 [INF] Executed action WebApiAerolinea.Controllers.SeatsController.GetSeatByEmailFragment (WebApiAerolinea) in 399.0873ms
2024-09-16 02:21:11.667 -05:00 [INF] Executed endpoint 'WebApiAerolinea.Controllers.SeatsController.GetSeatByEmailFragment (WebApiAerolinea)'
2024-09-16 02:21:11.670 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/api/v1/Seats/by-flight-id/23 - - - 200 - application/json;+charset=utf-8 446.0912ms
2024-09-16 02:21:24.033 -05:00 [INF] Request starting HTTP/2 OPTIONS https://localhost:7248/api/v1/Reservations - -
2024-09-16 02:21:24.037 -05:00 [INF] CORS policy execution successful.
2024-09-16 02:21:24.040 -05:00 [INF] Request finished HTTP/2 OPTIONS https://localhost:7248/api/v1/Reservations - - - 204 - - 6.1757ms
2024-09-16 02:21:24.043 -05:00 [INF] Request starting HTTP/2 POST https://localhost:7248/api/v1/Reservations application/json 65
2024-09-16 02:21:24.051 -05:00 [INF] CORS policy execution successful.
2024-09-16 02:21:24.072 -05:00 [INF] Executing endpoint 'WebApiAerolinea.Controllers.ReservationsController.CreateReservation (WebApiAerolinea)'
2024-09-16 02:21:24.089 -05:00 [INF] Route matched with {action = "CreateReservation", controller = "Reservations"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] CreateReservation(WebApiAerolinea.DTOs.CreateReservationDto) on controller WebApiAerolinea.Controllers.ReservationsController (WebApiAerolinea).
2024-09-16 02:21:24.498 -05:00 [INF] Executed DbCommand (10ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (DbType = Int32), @p2='?' (DbType = DateTime2), @p3='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Reservations] ([FlightId], [NumberOfPassengers], [ReservationDate], [UserId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3);
2024-09-16 02:21:24.597 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [s].[Id], [s].[FlightId], [s].[IsAvailable], [s].[ReservationId], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[Id] = @__p_0
2024-09-16 02:21:24.685 -05:00 [INF] Executed DbCommand (7ms) [Parameters=[@p4='?' (DbType = Int32), @p0='?' (DbType = Int32), @p1='?' (DbType = Boolean), @p2='?' (DbType = Int32), @p3='?' (Size = 450)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Seats] SET [FlightId] = @p0, [IsAvailable] = @p1, [ReservationId] = @p2, [SeatNumber] = @p3
OUTPUT 1
WHERE [Id] = @p4;
2024-09-16 02:21:24.694 -05:00 [INF] Mensaje enviado a la cola.
2024-09-16 02:21:24.710 -05:00 [INF] Executing CreatedAtActionResult, writing value of type '<>f__AnonymousType3`2[[System.String, System.Private.CoreLib, Version=7.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e],[WebApiAerolinea.DTOs.ReservationDto, WebApiAerolinea, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 02:21:24.744 -05:00 [INF] Executed action WebApiAerolinea.Controllers.ReservationsController.CreateReservation (WebApiAerolinea) in 645.7841ms
2024-09-16 02:21:24.749 -05:00 [INF] Executed endpoint 'WebApiAerolinea.Controllers.ReservationsController.CreateReservation (WebApiAerolinea)'
2024-09-16 02:21:24.751 -05:00 [INF] Request finished HTTP/2 POST https://localhost:7248/api/v1/Reservations application/json 65 - 201 - application/json;+charset=utf-8 707.3682ms
2024-09-16 02:21:24.757 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/api/v1/Seats/by-flight-id/23 - -
2024-09-16 02:21:24.767 -05:00 [INF] CORS policy execution successful.
2024-09-16 02:21:24.769 -05:00 [INF] Executing endpoint 'WebApiAerolinea.Controllers.SeatsController.GetSeatByEmailFragment (WebApiAerolinea)'
2024-09-16 02:21:24.771 -05:00 [INF] Route matched with {action = "GetSeatByEmailFragment", controller = "Seats"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[DAL.Entities.Seat]]] GetSeatByEmailFragment(Int32) on controller WebApiAerolinea.Controllers.SeatsController (WebApiAerolinea).
2024-09-16 02:21:24.782 -05:00 [INF] Executed DbCommand (2ms) [Parameters=[@__flightId_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT [s].[Id], [s].[FlightId], [s].[IsAvailable], [s].[ReservationId], [s].[SeatNumber]
FROM [Seats] AS [s]
WHERE [s].[FlightId] = @__flightId_0
2024-09-16 02:21:24.786 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.Collections.Generic.List`1[[DAL.Entities.Seat, DAL, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2024-09-16 02:21:24.789 -05:00 [INF] Executed action WebApiAerolinea.Controllers.SeatsController.GetSeatByEmailFragment (WebApiAerolinea) in 14.3725ms
2024-09-16 02:21:24.792 -05:00 [INF] Executed endpoint 'WebApiAerolinea.Controllers.SeatsController.GetSeatByEmailFragment (WebApiAerolinea)'
2024-09-16 02:21:24.796 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/api/v1/Seats/by-flight-id/23 - - - 200 - application/json;+charset=utf-8 39.4788ms
2024-09-16 02:23:36.383 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7248/api/v1/Flights/23 - -
2024-09-16 02:23:36.385 -05:00 [INF] Executing endpoint 'WebApiAerolinea.Controllers.FlightsController.GetFlightById (WebApiAerolinea)'
2024-09-16 02:23:36.392 -05:00 [INF] Route matched with {action = "GetFlightById", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DAL.Entities.Flight]] GetFlightById(Int32) on controller WebApiAerolinea.Controllers.FlightsController (WebApiAerolinea).
2024-09-16 02:23:38.156 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-16 02:23:38.161 -05:00 [INF] Executed action WebApiAerolinea.Controllers.FlightsController.GetFlightById (WebApiAerolinea) in 1766.1128ms
2024-09-16 02:23:38.165 -05:00 [INF] Executed endpoint 'WebApiAerolinea.Controllers.FlightsController.GetFlightById (WebApiAerolinea)'
2024-09-16 02:23:38.168 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7248/api/v1/Flights/23 - - - 200 - text/plain;+charset=utf-8 1785.2154ms
2024-09-16 02:24:40.027 -05:00 [INF] Now listening on: https://localhost:7248
2024-09-16 02:24:40.157 -05:00 [INF] Now listening on: http://localhost:5024
2024-09-16 02:24:40.327 -05:00 [INF] Application started. Press Ctrl+C to shut down.
2024-09-16 02:24:40.736 -05:00 [INF] Hosting environment: Development
2024-09-16 02:24:40.738 -05:00 [INF] Content root path: C:\Users\Didie\Desktop\.NetTraining\WebApiAerolinea\WebApiAerolinea
2024-09-16 02:24:40.849 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/swagger/index.html - -
2024-09-16 02:24:41.521 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/swagger/index.html - - - 200 - text/html;charset=utf-8 679.2748ms
2024-09-16 02:24:41.597 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/_framework/aspnetcore-browser-refresh.js - -
2024-09-16 02:24:41.610 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/_framework/aspnetcore-browser-refresh.js - - - 200 12000 application/javascript;+charset=utf-8 13.0888ms
2024-09-16 02:24:41.658 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/_vs/browserLink - -
2024-09-16 02:24:41.729 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/_vs/browserLink - - - 200 - text/javascript;+charset=UTF-8 71.2947ms
2024-09-16 02:24:42.187 -05:00 [INF] Request starting HTTP/2 GET https://localhost:7248/swagger/v1/swagger.json - -
2024-09-16 02:24:42.396 -05:00 [INF] Request finished HTTP/2 GET https://localhost:7248/swagger/v1/swagger.json - - - 200 - application/json;charset=utf-8 208.8106ms
2024-09-16 02:24:44.793 -05:00 [INF] Request starting HTTP/1.1 GET https://localhost:7248/api/v1/Flights/23 - -
2024-09-16 02:24:44.805 -05:00 [INF] Executing endpoint 'WebApiAerolinea.Controllers.FlightsController.GetFlightById (WebApiAerolinea)'
2024-09-16 02:24:44.865 -05:00 [INF] Route matched with {action = "GetFlightById", controller = "Flights"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[DAL.Entities.Flight]] GetFlightById(Int32) on controller WebApiAerolinea.Controllers.FlightsController (WebApiAerolinea).
2024-09-16 02:24:46.967 -05:00 [INF] Executing OkObjectResult, writing value of type 'System.String'.
2024-09-16 02:24:46.980 -05:00 [INF] Executed action WebApiAerolinea.Controllers.FlightsController.GetFlightById (WebApiAerolinea) in 2104.9098ms
2024-09-16 02:24:46.986 -05:00 [INF] Executed endpoint 'WebApiAerolinea.Controllers.FlightsController.GetFlightById (WebApiAerolinea)'
2024-09-16 02:24:46.993 -05:00 [INF] Request finished HTTP/1.1 GET https://localhost:7248/api/v1/Flights/23 - - - 200 - text/plain;+charset=utf-8 2199.9126ms
